(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{166:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(19),o=n.n(s),i=(n(70),n(20)),p=n(21),g=n(22),l=n(24),c=n(23),u=n(25),f=n(34),d=n(1),_=n(2),h=[{cover:{front:"https://assets.lls.fr/books/978-2-37760-153-0-GEO2_P_2019.png",back:"https://assets.lls.fr/books/978-2-37760-153-0-GEO2_P_2019.png"},firstPage:{front:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_2.png",back:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_2.png"},otherPages:[{front:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_2.png",back:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_2.png"},{front:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_3.png",back:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_3.png"},{front:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_4.png",back:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_4.png"},{front:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_5.png",back:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_5.png"},{front:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_9.png",back:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_9.png"}]},{cover:{front:"https://assets.lls.fr/books/978-2-37760-153-0-GEO2_P_2019.png",back:"https://assets.lls.fr/books/978-2-37760-153-0-GEO2_P_2019.png"},firstPage:{front:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_2.png",back:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_2.png"},otherPages:[{front:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_2.png",back:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_2.png"},{front:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_3.png",back:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_3.png"},{front:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_4.png",back:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_4.png"},{front:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_5.png",back:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_5.png"},{front:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_9.png",back:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_9.png"}]},{cover:{front:"https://assets.lls.fr/books/978-2-37760-153-0-GEO2_P_2019.png",back:"https://assets.lls.fr/books/978-2-37760-153-0-GEO2_P_2019.png"},firstPage:{front:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_2.png",back:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_2.png"},otherPages:[{front:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_2.png",back:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_2.png"},{front:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_3.png",back:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_3.png"},{front:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_4.png",back:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_4.png"},{front:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_5.png",back:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_5.png"},{front:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_9.png",back:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_9.png"}]},{cover:{front:"https://assets.lls.fr/books/978-2-37760-153-0-GEO2_P_2019.png",back:"https://assets.lls.fr/books/978-2-37760-153-0-GEO2_P_2019.png"},firstPage:{front:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_2.png",back:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_2.png"},otherPages:[{front:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_2.png",back:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_2.png"},{front:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_3.png",back:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_3.png"},{front:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_4.png",back:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_4.png"},{front:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_5.png",back:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_5.png"},{front:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_9.png",back:"https://assets.lls.fr/marketing/geographie/GEO_DP_argu_edito_9.png"}]}],b=n(11),m=n.n(b),k=n(58),x=n.n(k),O=n(5),v=n.n(O),E=n(35),P=n.n(E),G=n(63),D=n(59),w=n.n(D),C=n(60),j=n.n(C);function y(){var e=Object(d.a)(["\n  transform: rotate3d(0, 1, 0, -180deg);\n  box-shadow: inset -15px -1px 16px -5px #00000036;\n  border-top-right-radius: ",";\n  border-bottom-right-radius: ",";\n"]);return y=function(){return e},e}function z(){var e=Object(d.a)(["\n  box-shadow: ",";\n  border-top-right-radius: ",";\n  border-bottom-right-radius: ",";\n  border-top-left-radius: ",";\n  border-bottom-left-radius: ",";\n"]);return z=function(){return e},e}function B(){var e=Object(d.a)(["\n  width: 100%;\n  height: 100%;\n  transform-style: preserve-3d;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background-size: ",';\n  backface-visibility: hidden;\n  background-image: url("','");\n']);return B=function(){return e},e}function I(){var e=Object(d.a)(["\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  transform-style: preserve-3d;\n  width: 100%;\n  height: 100%;\n  z-index: ",";\n  box-shadow: 0px 0px 1px 0px #00000033;\n  border-top-left-radius: ","px;\n  border-bottom-left-radius: ","px;\n  transform: rotate3d(0, 1, 0, ",");\n  transition: all 1s ease ","s;\n  transform-origin: left center;\n"]);return I=function(){return e},e}var F=_.b.div(I(),function(e){return e.zIndex},function(e){return e.isCover?"0":"3"},function(e){return e.isCover?"0":"3"},function(e){var t=e.isOpen,n=e.rotateY;return t?"".concat(n,"deg"):"-0deg"},function(e){return e.delay}),M=_.b.div(B(),function(e){return e.isCover?"contain":"cover"},function(e){return e.page}),R=Object(_.b)(M)(z(),function(e){return e.isCover?"":"inset 15px 0px 12px -10px #0000002e"},function(e){return e.isCover?"3px":"0px"},function(e){return e.isCover?"3px":"0px"},function(e){var t=e.isCover,n=e.isOpen;return!t&&n?"3px":"0px"},function(e){var t=e.isCover,n=e.isOpen;return!t&&n?"3px":"0px"}),S=Object(_.b)(M)(y(),function(e){return e.isCover?"0px":"3px"},function(e){return e.isCover?"0px":"3px"}),Y=function(e){var t=e.isOpen,n=e.delay,r=void 0===n?0:n,s=e.isCover,o=e.zIndex,i=e.rotateY,p=e.front,g=e.back;return a.a.createElement(F,{zIndex:o,isCover:s,isOpen:t,rotateY:i,delay:r},a.a.createElement(R,{isCover:s,page:p,isOpen:t}),a.a.createElement(S,{isCover:s,page:g}))};function H(){var e=Object(d.a)(["\n  position: absolute;\n  left: -37px;\n  height: 100%;\n  width: 35px;\n  transform: rotate3d(0, 1, 0, -90deg) translate3d(","px,0px,0px);\n  transition: transform 0.5s ease ","s;\n  transform-origin: right;\n  background: #eaeaea;\n  border: 1px solid #929292d9;\n"]);return H=function(){return e},e}function L(){var e=Object(d.a)(["\n  display: inline-block;\n  transform-style: preserve-3d;\n  transition: all 0.5s ease ","s;\n  transform: rotate3d(0, 1, 0, ","deg) translate3d(","%, 0px, ","px);\n"]);return L=function(){return e},e}function W(){var e=Object(d.a)([""," 1.5s cubic-bezier(0, 1.04, 0.51, 1.23) 2s infinite"]);return W=function(){return e},e}function U(){var e=Object(d.a)(["\n  position: relative;\n  transform-style: preserve-3d;\n  height: 365px;\n  width: 250px;\n  animation: ",";\n"]);return U=function(){return e},e}function V(){var e=Object(d.a)(["\n  display: inline-flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  perspective: 1000px;\n  transform-style: preserve-3d;\n  pointer-events: none; // Fix firefox\n  transform-origin: center;\n  transition: transform ","s ease ","s, z-index ","s ease ","s;\n  transform: ",";\n  z-index: ",";\n\n  & > * {\n    pointer-events: auto; // Fix firefox\n  }\n"]);return V=function(){return e},e}function J(){var e=Object(d.a)(["\n  0% {\n    transform: translate3d(0px, 0px, 0px) scale3d(1, 1, 1);\n  }\n\n  20% {\n    transform: translate3d(0px, -100px, 0px) scale3d(0.95, 1.02, 1);\n  }\n\n  40% {\n    transform: translate3d(0px, 0px, 0px) scale3d(1, 1, 1);\n  }\n\n  100% {\n    transform: translate3d(0px, 0px, 0px) scale3d(1, 1, 1);\n  }\n"]);return J=function(){return e},e}var T=Object(_.c)(J()),$=_.b.div(V(),1,function(e){return e.isCentered?"0":1},1,function(e){return e.isCentered?"0":2},function(e){var t=e.center;return e.isCentered?"translate3d(".concat(t.x,"px, ").concat(t.y,"px, 0px)"):"none"},function(e){return e.isCentered?1:0}),q=_.b.div(U(),function(e){return e.isOpened?"none":Object(_.a)(W(),T)}),A=_.b.div(L(),function(e){return e.isOpened?"0":.75},function(e){return e.isOpened?"0":"20"},function(e){return e.isOpened?"50":"0"},function(e){return e.isOpened?"250":"0"}),K=_.b.div(H(),function(e){return e.isOpened?"-30":"0"},function(e){return e.isOpened?"0":.75}),N=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this,e))).ref=Object(r.createRef)(),n.componentDidMount=function(){n.setCenter()},n.componentWillUnmount=function(){n.timeout&&clearTimeout(n.timeout)},n.componentDidUpdate=function(e){j()(e.parentCenter,n.props.parentCenter)||n.setCenter()},n.setCenter=function(){var e=n.ref.current.getBoundingClientRect(),t=e.top,r=e.left,a=e.width,s=e.height,o=n.props.parentCenter,i=o.x-r-a/2,p=o.y-t-s/2;n.setState({center:{x:i,y:p}})},n.state={center:{x:0,y:0}},n}return Object(u.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isOpened,n=e.open,r=e.book,s=r.otherPages,o=r.cover,i=r.page1,p=r.page2,g=e.rerolling,l=this.state.center,c=[].concat(Object(G.a)(s),[i,p]),u=t&&!g;return a.a.createElement($,{ref:this.ref,center:l,isCentered:t},a.a.createElement(A,{isOpened:t},a.a.createElement(q,{onClick:g?void 0:n,isOpened:t},a.a.createElement(Y,{isOpen:u,delay:u?0:.1*v()(c),isCover:!0,zIndex:v()(c)+1,rotateY:-180,front:o.front,back:o.back}),w()(c,function(e,t){return a.a.createElement(Y,{isOpen:v()(c)-1!==t&&u,delay:u?.1*t:.1*(v()(c)-t),zIndex:v()(c)-t,rotateY:10*t-180,front:e.front,back:e.back,key:t})}),a.a.createElement(K,{isOpened:t}))))}}]),t}(r.Component),Q=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),a.a.createElement("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"}))},X=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),a.a.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}))},Z=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},a.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))};function ee(){var e=Object(d.a)(["\n  color: ",";\n  font-size: 20px;\n  text-align: center;\n  margin-bottom: 20px;\n  cursor: pointer;\n  pointer-events: ",";\n\n  svg{\n    border: 1px solid;\n    padding: 10px;\n    border-radius: 50%;\n    transition: all 0.1s ease;\n  }\n\n  &:hover{\n    "," {\n      text-decoration: underline;\n    }\n\n    svg {\n      background-color: #FFF;\n      color: #005469;\n    }\n  }\n\n"]);return ee=function(){return e},e}function te(){var e=Object(d.a)(["\n  transition: all 0.1s ease;\n"]);return te=function(){return e},e}function ne(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  background-color: #005469;\n  padding: 20px;\n  height: 100vh;\n  box-sizing: border-box;\n  z-index: 2;\n  box-shadow: 0px 1px 5px 0px rgba(0, 0, 0, 0.15);\n  transition: all 0.5s ease;\n\n  transform: ",";\n"]);return ne=function(){return e},e}function re(){var e=Object(d.a)(["\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  padding: 50px;\n  height: 100vh;\n  box-sizing: border-box;\n  background: radial-gradient(circle at center,#94eaff 0,#00b3df 60%)\n"]);return re=function(){return e},e}var ae=2,se=_.b.div(re()),oe=_.b.div(ne(),function(e){var t=e.isOpened;return"translate3d(".concat(t?"0":"-100","%, 0px, 0px)")}),ie=_.b.div(te()),pe=_.b.div(ee(),function(e){return e.isDisabled?"grey":"#FFF"},function(e){return e.isDisabled?"none":"auto"},ie),ge=function(e){var t=e.firstPage,n=e.otherPages,r=x()(0,v()(n)-1);return{page1:m()(n,r-1,t),page2:m()(n,r)}},le=function(){return h.map(function(e){return Object(f.a)({},e,ge(e))})},ce=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this,e))).ref=Object(r.createRef)(),n.componentDidMount=function(){n.setCenter(),window.addEventListener("resize",n.setCenter)},n.componentWillUnmount=function(){window.removeEventListener("resize",n.setCenter)},n.setCenter=function(){var e=n.ref.current.getBoundingClientRect(),t=e.width,r=e.height;n.setState({x:t/2,y:r/2})},n.open=function(e){var t=n.state.openedBookIndex===e?null:e;n.setState({openedBookIndex:t})},n.reroll=function(){var e=n.state,t=e.books,r=e.openedBookIndex,a=m()(t,r),s=ge(a),o=s.page1,p=s.page2,g=Object(f.a)({},a,{page1:o,page2:p}),l=Object.assign([],t,Object(i.a)({},r,g));n.setState({rerollBookIndex:r}),n.timeout=setTimeout(function(){return n.setState({rerollBookIndex:null,books:l})},1e3*ae)},n.state={x:0,y:0,openedBookIndex:null,rerollBookIndex:null,books:le()},n}return Object(u.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.x,r=t.y,s=t.openedBookIndex,o=t.rerollBookIndex,i=t.books;return a.a.createElement(se,{ref:this.ref},i.map(function(t,i){return a.a.createElement(N,{book:t,key:i,parentCenter:{x:n,y:r},isOpened:s===i,rerolling:o===i,open:function(){return e.open(i)}})}),a.a.createElement(oe,{isOpened:!P()(s)},a.a.createElement("div",null,a.a.createElement(pe,{onClick:this.reroll,isDisabled:P()(s)},a.a.createElement(Q,null),a.a.createElement(ie,null,"Relancer")),a.a.createElement(pe,null,a.a.createElement(X,null),a.a.createElement(ie,null,"Voir plus"))),a.a.createElement(pe,{onClick:function(){return e.open(null)}},a.a.createElement(Z,null),a.a.createElement(ie,null,"Fermer"))))}}]),t}(r.PureComponent);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},65:function(e,t,n){e.exports=n(166)},70:function(e,t,n){}},[[65,1,2]]]);
//# sourceMappingURL=main.64abd463.chunk.js.map